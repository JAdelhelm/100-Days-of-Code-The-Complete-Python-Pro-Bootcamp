{% block content %} {% include "header.html" %}

{% if post != None %}
<header
  class="masthead"
  style="background-image: url('../static/assets/img/edit-bg.jpg')"
>
  <div class="container position-relative px-4 px-lg-5">
    <div class="row gx-4 gx-lg-5 justify-content-center">
      <div class="col-md-10 col-lg-8 col-xl-7">
        <div class="page-heading">
          <!-- TODO: Show a different h1 if editing existing post -->
          <h1>Edit Post</h1>
          <span class="subheading"
            ><strong><u>{{post.title}}</u></strong></span
          >
        </div>
      </div>
    </div>
  </div>
</header>

<main class="mb-4">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-10 mx-auto">
        <form method="POST", action="{{url_for('edit_selected_post', post_id=post.id)}}">
          {{ form.csrf_token }}
          <!-- Title -->
          <div class="container my-3">
              <div class="col-xl-12 px-0 big">Blog Post Title</div>
              {{ form.title(class="col-xl-12 px-0", value=post.title) }} 
          </div>
          <!-- Subtitle -->
          <div class="container my-3">
              <div class="col-xl-12 px-0 big">Subtitle</div>
              {{ form.subtitle(class="col-xl-12 px-0", value=post.subtitle) }} 
          </div>
          <!-- Author -->
          <div class="container my-3">
            <div class="col-xl-12 px-0 big">Your Name</div>
            {{ form.author(class="col-xl-12 px-0", value=post.author) }} 
        </div>
          <!-- Image -->
          <div class="container my-3">
            <div class="col-xl-12 px-0 big">Blog Image URL</div>
            {{ form.img_url(class="col-xl-12 px-0", value=post.img_url) }} 
        </div>
          <!-- Content  -->
          <div class="container my-3">
              <div class="col-xl-12  px-0 big">Blog Content</div>
              {{ form.body(class="col-xl-12 px-0", value=post.body) }} 
          </div>
          <!-- Submiit  -->
          <div class="container my-3">
            {{ form.submit(class="col-xl-3 px-0 btn btn-primary float-right") }} 
        </div>
        <!-- {% for field, errors in form.errors.items() %}
      <div class="alert alert-error">
          {{ form[field].label }}: {{ ', '.join(errors) }}
      </div>
        {% endfor %} -->
        </form>

        {{ ckeditor.load() }}
        {{ ckeditor.config(name='body') }}
        <!-- TODO:-Add CKEditor and render the form here -->
      </div>
    </div>
  </div>
</main>
{% else %}
<!-- Page Header -->
<header
  class="masthead"
  style="background-image: url('../static/assets/img/edit-bg.jpg')"
>
  <div class="container position-relative px-4 px-lg-5">
    <div class="row gx-4 gx-lg-5 justify-content-center">
      <div class="col-md-10 col-lg-8 col-xl-7">
        <div class="page-heading">
          <!-- TODO: Show a different h1 if editing existing post -->
          <h1>New Post</h1>
          <span class="subheading"
            >You're going to make a great blog post!</span
          >
        </div>
      </div>
    </div>
  </div>
</header>

<main class="mb-4">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-10 mx-auto">
        <form method="POST", action="{{url_for('make_new_post')}}">
          {{ form.csrf_token }}
          <!-- Title -->
          <div class="container my-3">
              <div class="col-xl-12 px-0 big">Blog Post Title</div>
              {{ form.title(class="col-xl-12 px-0") }} 
          </div>
          <!-- Subtitle -->
          <div class="container my-3">
              <div class="col-xl-12 px-0 big">Subtitle</div>
              {{ form.subtitle(class="col-xl-12 px-0") }} 
          </div>
          <!-- Author -->
          <div class="container my-3">
            <div class="col-xl-12 px-0 big">Your Name</div>
            {{ form.author(class="col-xl-12 px-0") }} 
        </div>
          <!-- Image -->
          <div class="container my-3">
            <div class="col-xl-12 px-0 big">Blog Image URL</div>
            {{ form.img_url(class="col-xl-12 px-0") }} 
        </div>
          <!-- Content  -->
          <div class="container my-3">
              <div class="col-xl-12  px-0 big">Blog Content</div>
              {{ form.body(class="col-xl-12 px-0") }} 
              <!-- {{ckeditor.create()}} -->
          </div>
          <!-- Submiit  -->
          <div class="container my-3">
            {{ form.submit(class="col-xl-3 px-0 btn btn-primary float-right") }} 
        </div>
        <!-- {% for field, errors in form.errors.items() %}
      <div class="alert alert-error">
          {{ form[field].label }}: {{ ', '.join(errors) }}
      </div>
        {% endfor %} -->
        </form>

        {{ ckeditor.load() }}
        {{ ckeditor.config(name='body') }}
        <!-- TODO:-Add CKEditor and render the form here -->
      </div>
    </div>
  </div>
</main>
{% endif %}
{% include "footer.html" %} {% endblock %}
